<bc-expansion-panel [header]="data.politicalBusinessNumber + ': ' + (data.officialDescription | getTranslation)" [expanded]="true">
  <bc-text [label]="'POLITICAL_BUSINESS.NUMBER' | translate"
           [required]="true"
           [value]="data.politicalBusinessNumber"
           (valueChange)="data.politicalBusinessNumber = $event; setIsApplied(false)"
           [subscriptSizing]="'dynamic'"></bc-text>

  <bc-dropdown class="full-width"
               *ngIf="domainOfInfluenceTypes.length > 1"
               [label]="'DOMAIN_OF_INFLUENCE.TYPE' | translate"
               [items]="domainOfInfluenceTypes"
               [clearable]="false"
               displayExpr="description"
               valueExpr="value"
               [required]="true"
               [(value)]="selectedDomainOfInfluenceType"
               [subscriptSizing]="'dynamic'"></bc-dropdown>

  <bc-dropdown class="full-width"
               *ngIf="selectedDomainOfInfluenceType"
               [items]="domainOfInfluencesByType[selectedDomainOfInfluenceType]"
               displayExpr="name"
               [required]="true"
               [(value)]="selectedDomainOfInfluence"
               [label]="'POLITICAL_BUSINESS.DOMAIN_OF_INFLUENCE' | translate"
               [subscriptSizing]="'dynamic'"></bc-dropdown>

  <bc-dropdown class="full-width"
               [items]="domainOfInfluenceLevels"
               displayExpr="desc"
               valueExpr="level"
               [required]="true"
               [value]="data.reportDomainOfInfluenceLevel"
               (valueChange)="data.reportDomainOfInfluenceLevel = $event; setIsApplied(false)"
               [label]="'POLITICAL_BUSINESS.REPORT_LEVEL' | translate"
               [subscriptSizing]="'dynamic'"></bc-dropdown>

  <bc-dropdown class="full-width"
               [label]="'MAJORITY_ELECTION.MANDATE_ALGORITHM.TITLE' | translate"
               [items]="mandateAlgorithms"
               displayExpr="description"
               valueExpr="value"
               [required]="true"
               [value]="data.mandateAlgorithm"
               (valueChange)="data.mandateAlgorithm = $event; setIsApplied(false)"
               [subscriptSizing]="'dynamic'"></bc-dropdown>

  <bc-checkbox [checked]="!data.individualCandidatesDisabled"
               (checkedChange)="data.individualCandidatesDisabled = !$event; setIsApplied(false)"
               [label]="'MAJORITY_ELECTION.INDIVIDUAL_CANDIDATES' | translate"
               [subscriptSizing]="'dynamic'"></bc-checkbox>

  <app-majority-election-candidate-list [candidates]="candidates"
                                        [hideActionButtons]="true"
                                        (candidatesReordered)="reorderCandidates($event)"
                                        class="mb-2">
  </app-majority-election-candidate-list>

  <div class="button-container">
    <bc-icon *ngIf="isApplied" class="mr-2" iconColor="success" icon="checkmark"></bc-icon>
    <bc-button
      variant="primary"
     [label]="'ACTIONS.APPLY' | translate"
     [disabled]="isApplied || !data.politicalBusinessNumber || !data.domainOfInfluenceId || data.reportDomainOfInfluenceLevel === undefined"
     (buttonClick)="apply()"></bc-button>
  </div>
</bc-expansion-panel>
